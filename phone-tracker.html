<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Usage Tracker</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Phone Tracker">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #dbeafe 0%, #c7d2fe 100%);
            min-height: 100vh;
            padding: 1rem;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 2rem; }
        .header h1 { font-size: 2rem; color: #1f2937; margin-bottom: 0.5rem; }
        .header p { color: #6b7280; }
        .grid { display: grid; gap: 1.5rem; margin-bottom: 2rem; }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .card { 
            background: white; 
            border-radius: 0.5rem; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }
        .stat-card { text-align: center; }
        .stat-icon { 
            width: 3rem; height: 3rem; 
            margin: 0 auto 1rem; 
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem;
        }
        .phone-icon { background: #dbeafe; color: #3b82f6; }
        .phone-icon.over-goal { background: #fee2e2; color: #ef4444; }
        .clock-icon { background: #dcfce7; color: #22c55e; }
        .target-icon { background: #f3e8ff; color: #8b5cf6; }
        .stat-number { font-size: 2rem; font-weight: bold; color: #1f2937; margin-bottom: 0.5rem; }
        .stat-label { color: #6b7280; margin-bottom: 0.5rem; }
        .stat-goal { font-size: 0.875rem; color: #9ca3af; }
        .btn { 
            border: none; 
            border-radius: 0.5rem; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.2s;
            font-size: 1rem;
        }
        .btn-primary { 
            background: #3b82f6; 
            color: white; 
            padding: 1rem 1.5rem; 
            width: 100%;
            font-size: 1.125rem;
        }
        .btn-primary:hover { background: #2563eb; }
        .btn-green { background: #22c55e; color: white; padding: 0.5rem 1.5rem; }
        .btn-green:hover { background: #16a34a; }
        .btn-red { background: #ef4444; color: white; padding: 0.5rem 1.5rem; }
        .btn-red:hover { background: #dc2626; }
        .btn-gray { background: #6b7280; color: white; padding: 0.5rem 1.5rem; }
        .btn-gray:hover { background: #4b5563; }
        .btn-small { 
            width: 2rem; height: 2rem; 
            display: flex; align-items: center; justify-content: center;
            border-radius: 0.25rem;
        }
        .btn-minus { background: #fee2e2; color: #dc2626; }
        .btn-minus:hover { background: #fecaca; }
        .btn-plus { background: #dcfce7; color: #16a34a; }
        .btn-plus:hover { background: #bbf7d0; }
        .timer-display { 
            font-family: 'Courier New', monospace; 
            font-size: 2.5rem; 
            font-weight: bold; 
            color: #1f2937; 
            margin-bottom: 1rem;
            text-align: center;
        }
        .timer-controls { 
            display: flex; 
            justify-content: center; 
            gap: 0.75rem; 
            margin-bottom: 1rem;
        }
        .screen-time-row { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 1rem;
        }
        .screen-time-controls { 
            display: flex; 
            align-items: center; 
            gap: 0.75rem;
        }
        .screen-time-value { 
            font-family: 'Courier New', monospace; 
            font-size: 1.125rem; 
            width: 3rem; 
            text-align: center;
        }
        .goal-setting { 
            display: flex; 
            align-items: center; 
            gap: 1rem;
        }
        .goal-input { 
            border: 1px solid #d1d5db; 
            border-radius: 0.5rem; 
            padding: 0.5rem; 
            width: 5rem; 
            text-align: center;
        }
        .reflection-textarea { 
            width: 100%; 
            height: 8rem; 
            border: 1px solid #d1d5db; 
            border-radius: 0.5rem; 
            padding: 1rem; 
            resize: none;
            font-family: inherit;
        }
        .reflection-textarea:focus { 
            outline: none; 
            border-color: #3b82f6; 
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .note { 
            background: #fefce8; 
            border: 1px solid #fde047; 
            border-radius: 0.5rem; 
            padding: 1rem; 
            margin-top: 2rem;
        }
        .note-text { font-size: 0.875rem; color: #92400e; }
        .feedback { 
            margin-top: 1rem; 
            text-align: center; 
            font-size: 0.875rem; 
            color: #6b7280;
        }
        h3 { font-size: 1.25rem; font-weight: 600; color: #1f2937; margin-bottom: 1rem; }
        .label { color: #374151; font-weight: 500; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Phone Usage Tracker</h1>
            <p>Building awareness, one pickup at a time</p>
        </div>

        <!-- Quick Stats -->
        <div class="grid grid-3">
            <div class="card stat-card">
                <div class="stat-icon phone-icon" id="phoneIcon">üì±</div>
                <div class="stat-number" id="pickupCount">0</div>
                <div class="stat-label">Phone Pickups Today</div>
                <div class="stat-goal">Goal: <span id="goalDisplay">30</span> or less</div>
            </div>
            
            <div class="card stat-card">
                <div class="stat-icon clock-icon">üïê</div>
                <div class="stat-number" id="totalScreenTime">0</div>
                <div class="stat-label">Total Screen Time (min)</div>
            </div>
            
            <div class="card stat-card">
                <div class="stat-icon target-icon">üéØ</div>
                <div class="stat-number" id="focusTime">0:00</div>
                <div class="stat-label">Focus Time Today</div>
            </div>
        </div>

        <!-- Main Actions -->
        <div class="grid grid-2">
            <!-- Pickup Tracker -->
            <div class="card">
                <h3>Phone Pickups</h3>
                <button class="btn btn-primary" onclick="addPickup()">
                    + I Just Picked Up My Phone
                </button>
                <div class="feedback" id="pickupFeedback">
                    30 left to stay within your goal
                </div>
            </div>

            <!-- Focus Timer -->
            <div class="card">
                <h3>Focus Timer</h3>
                <div class="timer-display" id="timerDisplay">0:00</div>
                <div class="timer-controls">
                    <button class="btn btn-green" id="startBtn" onclick="startTimer()">Start Focus</button>
                    <button class="btn btn-red" id="stopBtn" onclick="stopTimer()" style="display:none;">Stop</button>
                    <button class="btn btn-gray" onclick="resetTimer()">Reset</button>
                </div>
                <p style="text-align: center; font-size: 0.875rem; color: #6b7280;">
                    Start when you want to focus without your phone
                </p>
            </div>
        </div>

        <!-- Screen Time Breakdown -->
        <div class="card">
            <h3>Screen Time Breakdown (minutes)</h3>
            <div class="screen-time-row">
                <span class="label">Social Media</span>
                <div class="screen-time-controls">
                    <button class="btn btn-small btn-minus" onclick="updateScreenTime('social', -5)">-</button>
                    <span class="screen-time-value" id="social">0</span>
                    <button class="btn btn-small btn-plus" onclick="updateScreenTime('social', 5)">+</button>
                </div>
            </div>
            <div class="screen-time-row">
                <span class="label">Productive Apps</span>
                <div class="screen-time-controls">
                    <button class="btn btn-small btn-minus" onclick="updateScreenTime('productive', -5)">-</button>
                    <span class="screen-time-value" id="productive">0</span>
                    <button class="btn btn-small btn-plus" onclick="updateScreenTime('productive', 5)">+</button>
                </div>
            </div>
            <div class="screen-time-row">
                <span class="label">Entertainment</span>
                <div class="screen-time-controls">
                    <button class="btn btn-small btn-minus" onclick="updateScreenTime('entertainment', -5)">-</button>
                    <span class="screen-time-value" id="entertainment">0</span>
                    <button class="btn btn-small btn-plus" onclick="updateScreenTime('entertainment', 5)">+</button>
                </div>
            </div>
            <div class="screen-time-row">
                <span class="label">Other</span>
                <div class="screen-time-controls">
                    <button class="btn btn-small btn-minus" onclick="updateScreenTime('other', -5)">-</button>
                    <span class="screen-time-value" id="other">0</span>
                    <button class="btn btn-small btn-plus" onclick="updateScreenTime('other', 5)">+</button>
                </div>
            </div>
        </div>

        <!-- Daily Goal Setting -->
        <div class="card">
            <h3>Daily Pickup Goal</h3>
            <div class="goal-setting">
                <label class="label">Target pickups per day:</label>
                <input type="number" class="goal-input" id="goalInput" value="30" min="1" onchange="updateGoal()">
            </div>
        </div>

        <!-- Daily Reflection -->
        <div class="card">
            <h3>Daily Reflection</h3>
            <textarea 
                class="reflection-textarea" 
                id="reflection"
                placeholder="How did your phone usage affect your focus today? What patterns do you notice?"
            ></textarea>
            <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">
                Taking a moment to reflect helps build awareness of your patterns
            </p>
        </div>

        <!-- Note about data persistence -->
        <div class="note">
            <p class="note-text">
                <strong>Note:</strong> This tracker stores data only during your current session. 
                For long-term tracking, you'll want to bookmark this tool and manually record your daily totals elsewhere.
            </p>
        </div>
    </div>

    <script>
        let pickupCount = 0;
        let dailyGoal = 30;
        let focusTimer = 0;
        let isTimerRunning = false;
        let timerInterval = null;
        let screenTime = {
            social: 0,
            productive: 0,
            entertainment: 0,
            other: 0
        };

        function addPickup() {
            pickupCount++;
            updateDisplay();
        }

        function updateScreenTime(category, change) {
            screenTime[category] = Math.max(0, screenTime[category] + change);
            updateDisplay();
        }

        function startTimer() {
            isTimerRunning = true;
            timerInterval = setInterval(() => {
                focusTimer++;
                updateTimerDisplay();
            }, 1000);
            
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('stopBtn').style.display = 'inline-block';
        }

        function stopTimer() {
            isTimerRunning = false;
            clearInterval(timerInterval);
            
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('stopBtn').style.display = 'none';
        }

        function resetTimer() {
            focusTimer = 0;
            stopTimer();
            updateTimerDisplay();
        }

        function updateGoal() {
            const goalInput = document.getElementById('goalInput');
            dailyGoal = Math.max(1, parseInt(goalInput.value) || 1);
            updateDisplay();
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function updateTimerDisplay() {
            document.getElementById('focusTime').textContent = formatTime(focusTimer);
            document.getElementById('timerDisplay').textContent = formatTime(focusTimer);
        }

        function updateDisplay() {
            // Update pickup count and goal feedback
            document.getElementById('pickupCount').textContent = pickupCount;
            document.getElementById('goalDisplay').textContent = dailyGoal;
            
            const isOverGoal = pickupCount > dailyGoal;
            const phoneIcon = document.getElementById('phoneIcon');
            
            if (isOverGoal) {
                phoneIcon.className = 'stat-icon phone-icon over-goal';
                document.getElementById('pickupFeedback').textContent = 
                    `${pickupCount - dailyGoal} over your goal - but awareness is the first step!`;
            } else {
                phoneIcon.className = 'stat-icon phone-icon';
                document.getElementById('pickupFeedback').textContent = 
                    `${dailyGoal - pickupCount} left to stay within your goal`;
            }

            // Update screen time totals
            const total = Object.values(screenTime).reduce((sum, time) => sum + time, 0);
            document.getElementById('totalScreenTime').textContent = total;

            // Update individual screen time values
            Object.keys(screenTime).forEach(key => {
                document.getElementById(key).textContent = screenTime[key];
            });
        }

        // Initialize display
        updateDisplay();
        updateTimerDisplay();
    </script>
</body>
</html>