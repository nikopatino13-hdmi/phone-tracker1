<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Usage Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Phone Tracker">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiMzQjgyRjYiLz4KPHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeD0iMzAiIHk9IjMwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KPHBhdGggZD0ibTIyIDIgTDIgMjIiLz4KPHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeD0iMzAiIHk9IjMwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KPHJlY3QgeD0iNSIgeT0iMiIgd2lkdGg9IjE0IiBoZWlnaHQ9IjIwIiByeD0iMiIgcnk9IjIiLz4KPHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeD0iMzAiIHk9IjMwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KPHJlY3QgeD0iNSIgeT0iMiIgd2lkdGg9IjE0IiBoZWlnaHQ9IjIwIiByeD0iMiIgcnk9IjIiLz4KPHBhdGggZD0iTTEyIDE4aC4wMSIvPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4K">
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { Phone, Clock, Target, Calendar, BarChart3, Plus, Minus } = lucide;

        const PhoneTracker = () => {
            const [pickupCount, setPickupCount] = useState(0);
            const [screenTime, setScreenTime] = useState({
                social: 0,
                productive: 0,
                entertainment: 0,
                other: 0
            });
            const [focusTimer, setFocusTimer] = useState(0);
            const [isTimerRunning, setIsTimerRunning] = useState(false);
            const [dailyReflection, setDailyReflection] = useState('');
            const [dailyGoal, setDailyGoal] = useState(30);

            // Timer effect
            useEffect(() => {
                let interval;
                if (isTimerRunning) {
                    interval = setInterval(() => {
                        setFocusTimer(prev => prev + 1);
                    }, 1000);
                }
                return () => clearInterval(interval);
            }, [isTimerRunning]);

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const addPickup = () => {
                setPickupCount(prev => prev + 1);
            };

            const updateScreenTime = (category, change) => {
                setScreenTime(prev => ({
                    ...prev,
                    [category]: Math.max(0, prev[category] + change)
                }));
            };

            const startFocusTimer = () => {
                setIsTimerRunning(true);
            };

            const stopFocusTimer = () => {
                setIsTimerRunning(false);
            };

            const resetFocusTimer = () => {
                setFocusTimer(0);
                setIsTimerRunning(false);
            };

            const totalScreenTime = Object.values(screenTime).reduce((sum, time) => sum + time, 0);
            const isOverGoal = pickupCount > dailyGoal;

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        <div className="text-center mb-8">
                            <h1 className="text-3xl font-bold text-gray-800 mb-2">Phone Usage Tracker</h1>
                            <p className="text-gray-600">Building awareness, one pickup at a time</p>
                        </div>

                        {/* Quick Stats */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div className="bg-white rounded-lg shadow-md p-6 text-center">
                                <Phone className={`w-12 h-12 mx-auto mb-4 ${isOverGoal ? 'text-red-500' : 'text-blue-500'}`} />
                                <h3 className="text-2xl font-bold text-gray-800">{pickupCount}</h3>
                                <p className="text-gray-600">Phone Pickups Today</p>
                                <p className="text-sm text-gray-500 mt-2">Goal: {dailyGoal} or less</p>
                            </div>
                            
                            <div className="bg-white rounded-lg shadow-md p-6 text-center">
                                <Clock className="w-12 h-12 mx-auto mb-4 text-green-500" />
                                <h3 className="text-2xl font-bold text-gray-800">{totalScreenTime}</h3>
                                <p className="text-gray-600">Total Screen Time (min)</p>
                            </div>
                            
                            <div className="bg-white rounded-lg shadow-md p-6 text-center">
                                <Target className="w-12 h-12 mx-auto mb-4 text-purple-500" />
                                <h3 className="text-2xl font-bold text-gray-800">{formatTime(focusTimer)}</h3>
                                <p className="text-gray-600">Focus Time Today</p>
                            </div>
                        </div>

                        {/* Main Actions */}
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                            {/* Pickup Tracker */}
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-xl font-semibold text-gray-800 mb-4">Phone Pickups</h3>
                                <button
                                    onClick={addPickup}
                                    className="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 px-6 rounded-lg transition-colors text-lg"
                                >
                                    + I Just Picked Up My Phone
                                </button>
                                <div className="mt-4 text-center">
                                    <p className="text-sm text-gray-600">
                                        {isOverGoal ? 
                                            `${pickupCount - dailyGoal} over your goal - but awareness is the first step!` : 
                                            `${dailyGoal - pickupCount} left to stay within your goal`
                                        }
                                    </p>
                                </div>
                            </div>

                            {/* Focus Timer */}
                            <div className="bg-white rounded-lg shadow-md p-6">
                                <h3 className="text-xl font-semibold text-gray-800 mb-4">Focus Timer</h3>
                                <div className="text-center mb-4">
                                    <div className="text-4xl font-mono font-bold text-gray-800 mb-4">
                                        {formatTime(focusTimer)}
                                    </div>
                                    <div className="flex justify-center gap-3">
                                        {!isTimerRunning ? (
                                            <button
                                                onClick={startFocusTimer}
                                                className="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition-colors"
                                            >
                                                Start Focus
                                            </button>
                                        ) : (
                                            <button
                                                onClick={stopFocusTimer}
                                                className="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors"
                                            >
                                                Stop
                                            </button>
                                        )}
                                        <button
                                            onClick={resetFocusTimer}
                                            className="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors"
                                        >
                                            Reset
                                        </button>
                                    </div>
                                </div>
                                <p className="text-sm text-gray-600 text-center">
                                    Start when you want to focus without your phone
                                </p>
                            </div>
                        </div>

                        {/* Screen Time Breakdown */}
                        <div className="bg-white rounded-lg shadow-md p-6 mb-8">
                            <h3 className="text-xl font-semibold text-gray-800 mb-4">Screen Time Breakdown (minutes)</h3>
                            <div className="space-y-4">
                                {Object.entries({
                                    social: 'Social Media',
                                    productive: 'Productive Apps',
                                    entertainment: 'Entertainment',
                                    other: 'Other'
                                }).map(([key, label]) => (
                                    <div key={key} className="flex items-center justify-between">
                                        <span className="text-gray-700 font-medium">{label}</span>
                                        <div className="flex items-center gap-3">
                                            <button
                                                onClick={() => updateScreenTime(key, -5)}
                                                className="bg-red-100 hover:bg-red-200 text-red-600 p-1 rounded"
                                            >
                                                <Minus className="w-4 h-4" />
                                            </button>
                                            <span className="font-mono text-lg w-12 text-center">{screenTime[key]}</span>
                                            <button
                                                onClick={() => updateScreenTime(key, 5)}
                                                className="bg-green-100 hover:bg-green-200 text-green-600 p-1 rounded"
                                            >
                                                <Plus className="w-4 h-4" />
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Daily Goal Setting */}
                        <div className="bg-white rounded-lg shadow-md p-6 mb-8">
                            <h3 className="text-xl font-semibold text-gray-800 mb-4">Daily Pickup Goal</h3>
                            <div className="flex items-center gap-4">
                                <label className="text-gray-700">Target pickups per day:</label>
                                <input
                                    type="number"
                                    value={dailyGoal}
                                    onChange={(e) => setDailyGoal(Math.max(1, parseInt(e.target.value) || 1))}
                                    className="border border-gray-300 rounded-lg px-3 py-2 w-20 text-center"
                                    min="1"
                                />
                            </div>
                        </div>

                        {/* Daily Reflection */}
                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h3 className="text-xl font-semibold text-gray-800 mb-4">Daily Reflection</h3>
                            <textarea
                                value={dailyReflection}
                                onChange={(e) => setDailyReflection(e.target.value)}
                                placeholder="How did your phone usage affect your focus today? What patterns do you notice?"
                                className="w-full h-32 border border-gray-300 rounded-lg px-4 py-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                            <p className="text-sm text-gray-600 mt-2">
                                Taking a moment to reflect helps build awareness of your patterns
                            </p>
                        </div>

                        {/* Note about data persistence */}
                        <div className="mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                            <p className="text-sm text-yellow-800">
                                <strong>Note:</strong> This tracker stores data only during your current session. 
                                For long-term tracking, you'll want to bookmark this tool and manually record your daily totals elsewhere.
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<PhoneTracker />, document.getElementById('root'));
    </script>
</body>
</html>